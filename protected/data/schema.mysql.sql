DROP TABLE IF EXISTS users;
CREATE TABLE users (
    user_id INTEGER NOT NULL AUTO_INCREMENT,
    username VARCHAR(128) NOT NULL,
    password VARCHAR(40) NOT NULL,
    payload BLOB NULL,
    PRIMARY KEY (user_id),
    KEY(username)
) Engine=InnoDB;

DROP TABLE IF EXISTS repeaters;
CREATE TABLE repeaters (
	repeater_id INTEGER NOT NULL AUTO_INCREMENT,
	# TODO finish
	geo_location POINT NOT NULL,
	geo_coverage POLYGON NOT NULL,
	PRIMARY KEY (repeater_id),
	SPATIAL INDEX(geo_location),
	SPATIAL INDEX(geo_coverage)
) Engine=MyISAM;
# BAND,OUTPUT,INPUT,STATE,LOCATION,CALLSIGN,SPONSOR,SOURCE,AREA,COORDINATED,OPEN,CLOSED,BILINGUAL,EXPERIMENTAL,LITZ,TONE,CTCSS_IN,CTCSS_OUT,DCS,DCS_CODE,DTMF,REMOTE_BASE,SNP,AUTOPATCH,PATCH_SEQ,CLOSED_PATCH,EMERG_POWER,EMERG_SUN,EMERG_WIND,LINKED,LINK_FREQ,PORTABLE,RACES,ARES,WIDE_AREA,LAW,LAW_DTMF,WEATHER,WEATHER_DTMF,LATITUDE,LONGITUDE,INTERNET,INTERNET_LINK,NOTES,UPDATE,CORD_DATE,USE,LATITUDE_DDMMSS,LONGITUDE_DDDMMSS,AMSL_FEET,TX_POWER,ANT_INFO,ERP,PUB_CODE,Active,Site Name,Coverage Area,Footnotes,Contact Email,Repeater Web Page,MapSel,Contact Phone,Update Source,Coord. Notes,Mailing Address

DROP TABLE IF EXISTS repeater_links;
CREATE TABLE repeater_links (
	source_id INTEGER NOT NULL,
	dest_id INTEGER NOT NULL,
	PRIMARY KEY (source_id, dest_id)
) Engine=MyISAM;
